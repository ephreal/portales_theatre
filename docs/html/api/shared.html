
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Shared API Functionality &#8212; Portales Theatre Website 0.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Administration Routes" href="../routes/admin.html" />
    <link rel="prev" title="Client API HTTP Routes" href="client_api_endpoints.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="shared-api-functionality">
<span id="shared-api-label"></span><h1>Shared API Functionality<a class="headerlink" href="#shared-api-functionality" title="Permalink to this headline">¶</a></h1>
<p>Some functionality is shared between the client and admin APIs. For example, it seemed ludicrous to implement a get_play() function in both when it is literally the same thing in both. Not only would it be easy to forget to update one (thus causing breaking changes), it could lead to headaches trying to diagnose where a problem has occurred.</p>
<p>Because of this, some specific shared functionality has been placed in a separate file that can be imported if need be.</p>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-theatre.routes.api.shared"></span><dl class="py function">
<dt class="sig sig-object py" id="theatre.routes.api.shared.get_date">
<span class="sig-prename descclassname"><span class="pre">theatre.routes.api.shared.</span></span><span class="sig-name descname"><span class="pre">get_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#theatre.routes.api.shared.get_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a date object for use.</p>
<div class="line-block">
<div class="line">Parameters:</div>
<div class="line-block">
<div class="line">date_id</div>
</div>
</div>
<div class="line-block">
<div class="line">Returns:</div>
<div class="line-block">
<div class="line">Error or Date</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="theatre.routes.api.shared.get_play">
<span class="sig-prename descclassname"><span class="pre">theatre.routes.api.shared.</span></span><span class="sig-name descname"><span class="pre">get_play</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">play_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#theatre.routes.api.shared.get_play" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a single play and returns the play to the caller. If no play exists,
returns None.</p>
<div class="line-block">
<div class="line">Parameters:</div>
<div class="line-block">
<div class="line">play_id: int</div>
</div>
</div>
<div class="line-block">
<div class="line">Returns:</div>
<div class="line-block">
<div class="line">Play or “error”</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="theatre.routes.api.shared.get_plays">
<span class="sig-prename descclassname"><span class="pre">theatre.routes.api.shared.</span></span><span class="sig-name descname"><span class="pre">get_plays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modifiers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#theatre.routes.api.shared.get_plays" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, returns the first 25 plays. This can be changed by passing in
various modifiers.</p>
<div class="line-block">
<div class="line">Parameters:</div>
<div class="line-block">
<div class="line">modifiers: JSON {page, per_page}</div>
</div>
</div>
<div class="line-block">
<div class="line">Returns:</div>
<div class="line-block">
<div class="line">None or list(Plays)</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="theatre.routes.api.shared.get_seat">
<span class="sig-prename descclassname"><span class="pre">theatre.routes.api.shared.</span></span><span class="sig-name descname"><span class="pre">get_seat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seat_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#theatre.routes.api.shared.get_seat" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a single seat and returns the seat to the caller. If no seat exists,
returns None.</p>
<div class="line-block">
<div class="line">Parameters:</div>
<div class="line-block">
<div class="line">seat_id: int</div>
</div>
</div>
<div class="line-block">
<div class="line">Returns:</div>
<div class="line-block">
<div class="line">Play or None</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="theatre.routes.api.shared.get_time">
<span class="sig-prename descclassname"><span class="pre">theatre.routes.api.shared.</span></span><span class="sig-name descname"><span class="pre">get_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#theatre.routes.api.shared.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a time object for use.</p>
<div class="line-block">
<div class="line">Parameters:</div>
<div class="line-block">
<div class="line">time_id</div>
</div>
</div>
<div class="line-block">
<div class="line">Returns:</div>
<div class="line-block">
<div class="line">Error or Time</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="theatre.routes.api.shared.get_times">
<span class="sig-prename descclassname"><span class="pre">theatre.routes.api.shared.</span></span><span class="sig-name descname"><span class="pre">get_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">play_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#theatre.routes.api.shared.get_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of times for a play identified by play_id.</p>
<div class="line-block">
<div class="line">Parameters:</div>
<div class="line-block">
<div class="line">play_id: int</div>
</div>
</div>
<div class="line-block">
<div class="line">Returns:</div>
<div class="line-block">
<div class="line">Error or [Times]</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="theatre.routes.api.shared.json_checker">
<span class="sig-prename descclassname"><span class="pre">theatre.routes.api.shared.</span></span><span class="sig-name descname"><span class="pre">json_checker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#theatre.routes.api.shared.json_checker" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the json passed in to determine if a given key exists or not.</p>
<p>If the key does not exist, the default value will be returned.</p>
<p>In the case the default is None, None will be returned. It is up to the
calling function to verify that required values passed back are not None.</p>
<div class="line-block">
<div class="line">Parameters:</div>
<div class="line-block">
<div class="line">json: dict</div>
<div class="line">key: String</div>
<div class="line">default: Any data type</div>
</div>
</div>
<div class="line-block">
<div class="line">Returns</div>
<div class="line-block">
<div class="line">default OR json[key]</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="theatre.routes.api.shared.login">
<span class="sig-prename descclassname"><span class="pre">theatre.routes.api.shared.</span></span><span class="sig-name descname"><span class="pre">login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_info</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#theatre.routes.api.shared.login" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to log the user in with the information provided.</p>
<div class="line-block">
<div class="line">Parameters:</div>
<div class="line-block">
<div class="line">user_info: JSON {email, password}</div>
</div>
</div>
<div class="line-block">
<div class="line">Returns:</div>
<div class="line-block">
<div class="line">None, False, or User</div>
</div>
</div>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Portales Theatre Website</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="specification.html">API Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin_api.html">Admin API</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin_api_endpoints.html">Admin API HTTP Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="client_api.html">Client API</a></li>
<li class="toctree-l1"><a class="reference internal" href="client_api_endpoints.html">Client API HTTP Routes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Shared API Functionality</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../routes/admin.html">Administration Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routes/auth.html">Authorization Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routes/route_functions.html">Route Helper Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Models</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="client_api_endpoints.html" title="previous chapter">Client API HTTP Routes</a></li>
      <li>Next: <a href="../routes/admin.html" title="next chapter">Administration Routes</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Ephreal.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/shared.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>